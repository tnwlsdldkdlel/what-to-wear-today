# 프로젝트 회고: 오늘 뭐 입음?

## 📋 프로젝트 개요

**프로젝트명**: 오늘 뭐 입음? (What to Wear Today?)
**유형**: Flutter + Supabase 기반 하이퍼로컬 착장 추천 앱
**목적**: 실제 사용자 데이터를 기반으로 현재 날씨와 지역에 맞는 착장을 추천하는 서비스

## 📅 개발 기간

- **시작일**: [개발 시작 날짜]
- **현재 버전**: MVP (Minimum Viable Product)
- **주요 마일스톤**:
  - 기본 착장 제출 플로우 구현
  - 위치 기반 날씨 정보 연동
  - 지역 선택 기능 추가
  - 로컬 알림 설정 기능 구현
  - 실제 데이터 기반 추천 시스템 구현

## 🎯 주요 기능 및 성과

### 완료된 핵심 기능

1. **착장 데이터 제출 플로우**
   - SVG 기반 직관적인 카드 UI
   - 7단계 다중 선택 플로우 (상의 → 하의 → 아우터 → 신발 → 악세서리 → 체감도 → 확인)
   - Supabase 연동 데이터 저장

2. **날씨 기반 추천 시스템**
   - Open-Meteo API 실시간 날씨 데이터 연동
   - GPS 위치 기반 현재 지역 자동 감지
   - 한국 전역 17개 시/도 수동 선택 지원
   - 실제 사용자 착장 데이터 기반 확률적 추천
   - 온도별 폴백 추천 시스템

3. **인기 착장 추천**
   - 같은 지역, 유사한 온도에서 '딱 좋음'으로 평가받은 착장 데이터 집계
   - 카테고리별(상의/하의/아우터/신발/악세서리) 최다 아이템 조합 표시
   - 실시간 업데이트 및 대체 메시지 처리

4. **알림 설정**
   - 로컬 푸시 알림 기반 매일 정해진 시간 알림
   - Supabase `device_tokens` 테이블로 설정 영구 저장
   - device_id 기반 기기별 독립 관리

5. **사용자 경험**
   - 익명 인증으로 간편한 접근성
   - 직관적인 UI/UX (이모지 기반 선택, 부드러운 애니메이션)
   - 지역명 표시로 신뢰성 확보

## 🛠️ 기술 스택 및 아키텍처

### 선택한 기술과 이유

| 기술 | 선택 이유 |
|------|----------|
| **Flutter** | 크로스 플랫폼 개발로 iOS/Android 동시 지원, 빠른 개발 속도 |
| **GetX** | 간결한 상태 관리, 의존성 주입, 라우팅을 한 번에 해결 |
| **Supabase** | PostgreSQL 기반 오픈소스 BaaS, RLS로 보안 강화, 무료 티어 제공 |
| **Open-Meteo API** | API 키 불필요, 무료, 정확한 날씨 데이터 제공 |
| **flutter_local_notifications** | 원격 푸시 서비스 불필요, 개인정보 보호, 간단한 구현 |
| **flutter_svg** | SVG 렌더링으로 선명한 이미지 제공, 앱 용량 절감 |

### 아키텍처 패턴

- **GetX MVC 패턴**: Controller(비즈니스 로직) - View(UI) - Service(외부 API) 명확한 분리
- **의존성 주입**: Binding을 통한 느슨한 결합
- **반응형 상태 관리**: Obx를 통한 선언적 UI 업데이트
- **Single Source of Truth**: Supabase를 데이터의 유일한 진실 소스로 사용

## ✅ 잘된 점 (Keep)

### 1. 명확한 아키텍처 설계
- GetX 패턴을 일관되게 적용하여 코드 구조가 예측 가능하고 유지보수가 쉬움
- Service 레이어 분리로 외부 의존성 변경 시 영향 범위 최소화
- CLAUDE.md를 통한 개발 가이드라인 문서화

### 2. 데이터 중심 설계
- 처음부터 실제 사용자 데이터를 수집하는 구조로 설계
- Supabase RLS 정책으로 보안과 데이터 무결성 확보
- 온도/지역/체감도 기반 다차원 필터링 가능

### 3. 사용자 경험 최적화
- 익명 인증으로 진입 장벽 제거
- SVG 기반 UI로 직관적이고 빠른 인터랙션
- 로컬 알림으로 간편한 설정과 개인정보 보호

### 4. 점진적 개선
- Git 커밋 히스토리를 보면 작은 단위로 기능을 나누어 구현
- 폴백 시스템(데이터 없을 때 온도 기반 추천)으로 안정성 확보
- 반복적인 피드백을 통한 UI/UX 개선

### 5. 체계적인 문서화
- README, PRD, DESIGN, CLAUDE 문서로 프로젝트 전반 정리
- __prompts 폴더를 통한 작업 이력 관리

## ⚠️ 개선이 필요한 점 (Problem)

### 1. 테스트 커버리지 부족
- 현재 기본 widget_test.dart만 존재
- 서비스 로직과 컨트롤러 단위 테스트 필요
- 통합 테스트 및 E2E 테스트 부재

### 2. 에러 핸들링 개선 필요
- 네트워크 오류, 위치 권한 거부 등의 엣지 케이스 처리 미흡
- 사용자에게 보여줄 에러 메시지 표준화 필요
- 로깅 및 모니터링 시스템 부재

### 3. 성능 최적화 여지
- 실시간 날씨 조회 시 불필요한 재요청 가능성
- 추천 데이터 캐싱 전략 미흡
- 이미지 최적화 및 레이지 로딩 미적용

### 4. 데이터 검증 및 품질 관리
- 사용자가 잘못된 데이터를 입력할 가능성 (예: 여름에 패딩 선택)
- 데이터 이상치 필터링 로직 부재
- 충분한 샘플 수 없을 때의 추천 신뢰도 표시 부족

### 5. 확장성 고려 부족
- 하드코딩된 의류 옵션 (새로운 의류 추가 시 코드 수정 필요)
- 다국어 지원 미고려
- 접근성(Accessibility) 기능 미흡

## 📚 배운 점 (Learned)

### 기술적 학습

1. **Flutter 상태 관리**
   - GetX의 반응형 프로그래밍 패턴 숙달
   - Binding을 통한 의존성 주입 설계 경험

2. **Supabase 활용**
   - RLS 정책 작성 및 보안 설계
   - PostgreSQL 집계 쿼리 작성 (인기 착장 조회)
   - 익명 인증 플로우 구현

3. **위치 기반 서비스**
   - GPS 권한 처리 및 역지오코딩 연동
   - 지역별 대표 좌표 데이터 모델링

4. **로컬 알림 시스템**
   - 타임존 기반 스케줄링
   - device_id를 primary identifier로 사용하는 설계

5. **사용자 경험(UX) 설계**
   - **마이크로 인터랙션의 중요성**: 착장 선택 시 0.3초 딜레이를 주어 사용자가 선택한 항목을 시각적으로 인지할 수 있도록 함. 너무 빠르면 선택했다는 피드백이 부족하고, 너무 느리면 답답함을 느낄 수 있어 적절한 타이밍이 중요함을 학습
   - **데이터 수집 유도 설계**: 이 프로젝트는 사용자 착장 데이터가 핵심이므로, 착장 공유 화면에서 뒤로가기를 눌렀을 때 확인 모달의 버튼 디자인을 전략적으로 구성
     - "계속 작성" 버튼: `FilledButton`으로 강조 (Primary Action)
     - "취소" 버튼: `TextButton`으로 덜 강조 (Secondary Action)
     - 시각적 위계를 통해 사용자가 데이터 입력을 완료하도록 자연스럽게 유도
   - **사용자 의도 존중**: 강제하지 않고 선택권을 주되, 원하는 행동(데이터 제출)을 더 쉽고 명확하게 만드는 UX 패턴의 효과를 체감

### 프로젝트 관리

1. **문서화의 중요성**
   - CLAUDE.md 같은 개발 가이드가 일관성 유지에 큰 도움
   - Git 커밋 컨벤션 준수로 히스토리 가독성 향상

2. **점진적 개선의 가치**
   - MVP 먼저 구현 후 실제 데이터 기반 추천으로 진화
   - 작은 단위 커밋으로 문제 발생 시 롤백 용이

3. **사용자 중심 설계**
   - 복잡한 원격 푸시 대신 로컬 알림으로 간결하게 해결
   - 익명 인증으로 사용자 진입 장벽 최소화

## 🚀 향후 계획 (Try)

### 단기 개선 사항 (1-2주)

- [ ] **테스트 코드 작성**
  - Service 레이어 단위 테스트
  - Controller 로직 테스트
  - Widget 테스트 확대

- [ ] **에러 핸들링 강화**
  - 네트워크 오류 처리 및 재시도 로직
  - 사용자 친화적 에러 메시지
  - Sentry 같은 에러 모니터링 도구 도입

- [ ] **성능 최적화**
  - 날씨 데이터 캐싱 (5-10분 단위)
  - 추천 데이터 메모이제이션
  - 이미지 프리로딩

### 중기 개선 사항 (1-2개월)

- [ ] **추천 알고리즘 고도화**
  - 시간대별 추천 (아침/점심/저녁)
  - 날씨 코드별 추천 (비/눈/맑음)
  - 개인화 추천 (사용자 선호도 학습)

- [ ] **데이터 품질 관리**
  - 이상치 탐지 및 필터링
  - 충분한 샘플 수 기반 신뢰도 표시
  - 사용자 신고 기능

- [ ] **사용자 경험 개선**
  - 다크 모드 지원
  - 접근성(Accessibility) 개선
  - 온보딩 튜토리얼 추가

### 장기 비전 (3개월 이상)

- [ ] **커뮤니티 기능**
  - 착장 사진 공유
  - 좋아요 및 댓글
  - 스타일 태그

- [ ] **확장성**
  - 의류 옵션 DB화 (하드코딩 제거)
  - 다국어 지원 (i18n)
  - 글로벌 서비스 확장

- [ ] **수익화 모델 검토**
  - 패션 브랜드 협업
  - 광고 또는 프리미엄 기능

## 💭 마무리 소감

이 프로젝트는 Claude AI를 활용한 바이브코딩으로 진행되었습니다. 많은 바이브코딩 프로젝트가 빠른 구현에 초점을 맞춰 하루 만에 완성되는 것과 달리, 저는 **사용자 경험(UX)을 깊이 고민하며 시간을 들여 개발**했습니다.

0.3초의 선택 피드백 딜레이, 데이터 수집을 유도하는 버튼 디자인, 로컬 알림을 통한 개인정보 보호 등 **작지만 중요한 UX 디테일**을 하나하나 설계하는 과정에서 단순히 기능을 구현하는 것을 넘어, 사용자의 행동과 심리를 이해하는 법을 배웠습니다.

특히 이번 프로젝트에서 얻은 경험은 향후 **웹앱을 구현할 때 큰 자산**이 될 것입니다. 마이크로 인터랙션의 중요성, 시각적 위계를 통한 사용자 유도, 그리고 강제하지 않으면서도 원하는 행동을 이끌어내는 설계 철학은 플랫폼을 넘어 보편적으로 적용될 수 있는 가치 있는 학습이었습니다.

---

**작성일**: 2025-10-21
**작성자**: 오수진
